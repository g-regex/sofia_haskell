\documentclass[notitlepage]{report}
\usepackage{mystyle}
\usepackage{titling}
\usepackage{standalone}
\usepackage[scaled=0.95]{DejaVuSans}
\renewcommand*\familydefault{\sfdefault}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
%\usepackage[scaled=0.85]{DejaVuSansMono}
\usepackage[scaled=0.95]{DejaVuSansMono}

%\usepackage{showframe}
\usepackage{etoolbox}
\makeatletter
\patchcmd{\@makechapterhead}{\vspace*{50\p@}}{}{}{}
\patchcmd{\@makeschapterhead}{\vspace*{50\p@}}{}{}{}

\usepackage{pmboxdraw}

\DeclareUnicodeCharacter{255A}{\pmboxdrawuni{255A}}
\DeclareUnicodeCharacter{2554}{\pmboxdrawuni{2554}}
\DeclareUnicodeCharacter{2551}{\pmboxdrawuni{2551}}

\pretitle{\begin{center}\Huge\bfseries}
\posttitle{\par\end{center}}
\preauthor{\begin{center}\Large\ttfamily}
\postauthor{\end{center}}
\predate{\par\large\centering}
\postdate{\par}

\title{Sofia/Haskell}
\author{Gregor Feierabend}
\date{\today}

\begin{document}
%\begin{titlepage}
%\begin{haddocktitle}
%Sofia/Haskell documentation
%\end{haddocktitle}
%\end{titlepage}

\maketitle

\begingroup
\let\clearpage\relax
\tableofcontents
\endgroup


\chapter{Introduction}
\vspace{-1.0cm}\hrulefill%

The purpose of this report is to document the work on the Haskell
implementation of the Sofia proof assistant, which is based on the earlier
Python implementation.\footnote{See: %
\url{https://github.com/ZurabJanelidze/sofia}}
The document is work in progress and targets contributors to the project. Hence
no further introduction to the context of the project is given. Note that the
given implementation makes use of the \m{Parser} data type, created by
\textcite{Hutton}, which is available on the web.
\section{Grammar}
We agreed on the following EBNF\footnote{Extended Backus-Naur Form} of the
grammar of the Sofia language.
\begin{figure}[h!]
    {\renewcommand{\arraystretch}{2.0}
    \input{figures/ebnf}}
    \caption{EBNF of the Sofia language}
\end{figure}

Detailed information about the representation of formal languages by means of an
EBNF can be found online\footnote{%
See: \url{https://en.wikipedia.org/wiki/EBNF}}. For convenience,
the meaning and/or terminology of the symbols used above is given below.
\begin{multicols}{2}
\begin{itemize}
    \item $\langle\texttt{name}\rangle$ is called a non-terminal or a production
    \item $(\cdots)$ groups elements
    \item $|$ means `or'
    \item $\{\cdots\}$ means zero or more repetitions
    \item $[\cdots]$ means zero or one occurrences.
\end{itemize}
\end{multicols}

\chapter{Significant Data Structures}
\input{haddock/SofiaTree}

\chapter{Function Reference Sofia}
\input{haddock/Sofia}

\pagebreak
\begingroup
\setstretch{0.8}
\setlength\bibitemsep{10pt}
\printbibliography\
\endgroup
\end{document}
